<html>
<head>
<base href="http://www.graph-magics.com/">
<title>Graph Magics</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">

<meta name="Description" content="Graph Magics - an ultimate software for graph theory, having many very useful things, among which a strong graph generator and more than 15 different algorithms that one may apply to graphs (ex. Shortest Path, Network Flows, Minimum Cut, Maximum Clique, Chinese Postman Problem, Graph Center, Graph Median etc.)">

<meta name="keywords" content="graph,magics,theory,software,maximum,flow,euler,hamilton,coloring,minimum,cut,spanning,tree,complete,shortest,path,subgraph,generator,algorithm,clique,independent,set,bipartite,median,editor,teaching,study,maximal,minimal,mathematics,vertex,edge">

<link type="text/css" rel="stylesheet" href="stil.css">


			<script language='javascript' src='http://127.0.0.1:1027/js.cgi?pca&r=2943'></script>

<script language="JavaScript" src="script.js"></script>
</head>


<body>
<div align="center">  
  <table width="800" height="100%" border="0" cellpadding="0" cellspacing="0">
    <tr> 
      <td width="140" height="20"> </td>
      <td height="20" valign="top">&nbsp; </td>
    </tr>
    <tr> 
      <td width="140" height="413" align="left" valign="top"> 
        <table width="125" border="0" cellpadding="0" cellspacing="4">
		<font class="main-titlu"> 
        <div align="center">Graph Magics</div> </font> 
        <hr align="center" width="125" size="1" color="#AAAAAA"> 
		
          <tr> 
            <td id="m_td1" class="menu_off" onMouseOut="menu_out(1)" onMouseOver="menu_over(1)" height="16"><a id="a_m1" href="index.php">Home</a></td>
          </tr>
          <tr> 
            <td id="m_td2" class="menu_off" onMouseOut="menu_out(2)" onMouseOver="menu_over(2)" height="16"><a id="a_m2" href="overview.php">Overview</a></td>
          </tr>
          <tr> 
            <td id="m_td9" class="menu_off" onMouseOut="menu_out(9)" onMouseOver="menu_over(9)" height="16"><a id="a_m9" href="gallery.php">Gallery</a></td>
          </tr>
          <tr> 
            <td id="m_td7" class="menu_off" onMouseOut="menu_out(7)" onMouseOver="menu_over(7)" height="16"><a id="a_m7" href="updates.php">Updates & News</a></td>
          </tr>
          <tr> 
            <td id="m_td3" class="menu_off" onMouseOut="menu_out(3)" onMouseOver="menu_over(3)" height="16"><a id="a_m3" href="download.php">Download</a></td>
          </tr>
          <tr> 
            <td id="m_td4" class="menu_off" onMouseOut="menu_out(4)" onMouseOver="menu_over(4)" height="16"><a id="a_m4" href="purchase.php">Purchase</a></td>
          </tr>
          <tr> 
            <td id="m_td5" class="menu_off" onMouseOut="menu_out(5)" onMouseOver="menu_over(5)" height="16"><a id="a_m5" href="contacts.php">Contacts</a></td>
          </tr>		</table>
        <table width="125" border="0" cellpadding="0" cellspacing="4">
		<hr align="center" width="125" size="1" color="#AAAAAA">
		
          <tr> 
            <td id="m_td101" class="menu_off" onMouseOut="menu_out(101)" onMouseOver="menu_over(101)" height="20"><a id="a_m101" href="algorithms.php">Algorithms</a></td>
          </tr>
          <tr> 
            <td id="m_td102" class="menu_off" onMouseOut="menu_out(102)" onMouseOver="menu_over(102)" height="32"><a id="a_m102" href="practic_use.php">Applications of Graph Algorithms</a></td>
          </tr>	  </table>
		
      </td>
      <td width="660" valign="top"> 
        	<table width="100%" height="100%" border="0" cellpadding="0" cellspacing="0">
          <tr> 
            <td valign="top" class="main"> <div align="center"><b><font style="font-size: 12px">Eulerian Path and Circuit</font></b></div>
              <p><br>
                <strong>Task:<br>
                </strong><br>
                Given an undirected or a directed graph, find a path or circuit that passes through each edge exactly once.<br>
                <br>
                <strong>Solution:</strong><br>
                <br>
                First let's see the conditions for an undirected graph:</p>
              <ul>
                <li>An undirected graph has an eulerian circuit if and only if it is connected and each vertex has an even degree (degree is the number of 
                  edges that are adjacent to that vertex).</li>
                <li>An undirected graph has an eulerian path if and only if it is connected and all vertices except 2 have even degree. One of those 2 vertices 
                  that have an odd degree must be the start vertex, and the other one must be the end vertex.</li>
              </ul>
              For a directed graph we have: 
              <ul>
                <li>A directed graph has an eulerian circuit if and only if it is connected and each vertex has the same in-degree as out-degree.</li>
                <li>A directed graph has an eulerian path if and only if it is connected and each vertex except 2 have the same in-degree as out-degree, 
                  and one of those 2 vertices has out-degree with one greater than in-degree (this is the start vertex), and the other vertex has in-degree 
                  with one greater than out-degree (this is the end vertex).</li>
              </ul>
              <p><u>Algorithm for undirected graphs</u>:</p>
              <ol>
                <li>Start with an empty stack and an empty circuit (eulerian path).<br>
                  - If all vertices have even degree - choose any of them.<br>
                  - If there are exactly 2 vertices having an odd degree - choose one of them.<br>
                  - Otherwise no euler circuit or path exists.<br>
                </li>
                <li> If current vertex has no neighbors - add it to circuit, remove the last vertex from the stack and set it as the current one. Otherwise 
                  (in case it has neighbors) - add the vertex to the stack, take any of its neighbors, remove the edge between selected neighbor and that 
                  vertex, and set that neighbor as the current vertex.<br>
                </li>
                <li> Repeat step 2 until the current vertex has no more neighbors and the stack is empty.</li>
                <br>
                <strong><br>
                Note</strong> that obtained circuit will be in reverse order - from end vertex to start vertex. 
              </ol>
              <u>Algorithm for directed graphs:</u> <ol>
                <li>Start with an empty stack and an empty circuit (eulerian path).<br>
                  - If all vertices have same out-degrees as in-degrees - choose any of them.<br>
                  - If all but 2 vertices have same out-degree as in-degree, and one of those 2 vertices has out-degree with one greater than its in-degree, 
                  and the other has in-degree with one greater than its out-degree - then choose the vertex that has its out-degree with one greater than 
                  its in-degree.<br>
                  - Otherwise no euler circuit or path exists.<br>
                </li>
                <li> If current vertex has no out-going edges (i.e. neighbors) - add it to circuit, remove the last vertex from the stack and set it as 
                  the current one. Otherwise (in case it has out-going edges, i.e. neighbors) - add the vertex to the stack, take any of its neighbors, 
                  remove the edge between that vertex and selected neighbor, and set that neighbor as the current vertex.<br>
                </li>
                <li> Repeat step 2 until the current vertex has no more out-going edges (neighbors) and the stack is empty.</li>
                <br>
                <strong><br>
                Note</strong> that obtained circuit will be in reverse order - from end vertex to start vertex. 
              </ol>
              Both algorithms will give you the tour in reverse order, i.e. from the end vertex to the start vertex. <br>
		As you can see - the algorithms are very similar.<br>
              <br>
                
              <u>Complexity</u>:<br>
                <br>
              The complexity of both algorithms is O(<strong>N+M</strong>), where N is the number of vertices and M is the number of edges.<br>
                <br>
                <strong><br>
                Sample Execution:</strong><br>
                <br>
              <table class="main" width="100%" border="0" cellspacing="0" cellpadding="0">
                <tr> 
                  <td colspan="2"><hr size="1"></td>
                </tr>
                <tr> 
                  <td colspan="2"><strong>Given:</strong><br> <br>
                    A sample undirected graph made in Graph Magics.<br> <br>
                    Below execution steps of this algorithm are shown (all images are created in Graph Magics).</td>
                </tr>
                <tr> 
                  <td colspan="2"><hr size="1"></td>
                </tr>
                <tr> 
                  <td><strong>Legend:</strong><br>
                    - current vertex is surrounded by <font color="#FF0000">red color</font><br> <br> <strong>Starting state:</strong><br> <br>
                    Stack: empty<br>
                    Location: none<br>
                    Circuit: empty</td>
                  <td width="390" align="center"> 
                    <p><img src="articles/euler/ex001.gif" width="351" height="230"><br>
                      <a href="articles/euler/euler.gmf" class="hotlinks">Download this graph (viewable with Graph Magics)</a></p></td>
                </tr>
                <tr> 
                  <td colspan="2"><hr size="1"></td>
                </tr>
                <tr> 
                  <td><br>
                    Because all vertices have even degrees, we can select any vertex as start point. Let it be <strong>1</strong>.<br> <br> <strong>Current 
                    state:</strong><br> <br>
                    Stack: empty<br>
                    Location: <strong>1</strong><br>
                    Circuit: empty <br> </td>
                  <td align="center"><img src="articles/euler/ex002.gif" width="351" height="230"> </td>
                </tr>
                <tr> 
                  <td colspan="2"><hr size="1"></td>
                </tr>
                <tr> 
                  <td>Go to vertex 2 (a neighbor of 1), add 1 to the stack, delete the edge between 1 and 2.<br> <br> <strong>Current state:</strong><br> <br>
                    Stack: <strong>1</strong><br>
                    Location: <strong>2</strong><br>
                    Circuit: empty <br> </td>
                  <td align="center"> <img src="articles/euler/ex003.gif" width="351" height="230"></td>
                </tr>
                <tr> 
                  <td colspan="2"><hr size="1"></td>
                </tr>
                <tr> 
                  <td><br>
                    Go to vertex 3, add 2 to the stack, delete the edge between 2 and 3.<br> <br> <strong>Current state:</strong><br> <br>
                    Stack: 1, <strong>2</strong><br>
                    Location: <strong>3</strong><br>
                    Circuit: empty <br> </td>
                  <td align="center"> <img src="articles/euler/ex004.gif" width="351" height="230"></td>
                </tr>
                <tr> 
                  <td colspan="2"><hr size="1"></td>
                </tr>
                <tr> 
                  <td>Go to vertex 4, add 3 to the stack, delete the edge between 3 and 4.<br> <br> <strong>Current state:</strong><br> <br>
                    Stack: 1, 2, <strong>3</strong><br>
                    Location: <strong>4</strong><br>
                    Circuit: empty <br> </td>
                  <td align="center"> <img src="articles/euler/ex005.gif" width="351" height="230"></td>
                </tr>
                <tr> 
                  <td colspan="2"><hr size="1"></td>
                </tr>
                <tr> 
                  <td>Go to vertex 2, add 4 to the stack, delete the edge between 4 and 2.<br> <br> <strong>Current state:</strong><br> <br>
                    Stack: 1, 2, 3, <strong>4</strong><br>
                    Location: <strong>2</strong><br>
                    Circuit: empty </td>
                  <td align="center"> <img src="articles/euler/ex006.gif" width="351" height="230"></td>
                </tr>
                <tr> 
                  <td colspan="2"><hr size="1"></td>
                </tr>
                <tr> 
                  <td>Go to vertex 8, add 2 to the stack, delete the edge between 2 and 8.<br> <br> <strong>Current state:</strong><br> <br>
                    Stack: 1, 2, 3, 4, <strong>2</strong><br>
                    Location: <strong>8</strong><br>
                    Circuit: empty </td>
                  <td align="center"> <img src="articles/euler/ex007.gif" width="351" height="230"></td>
                </tr>
                <tr> 
                  <td colspan="2"><hr size="1"></td>
                </tr>
                <tr> 
                  <td>Go to vertex 1, add 8 to the stack, delete the edge between 8 and 1.<br> <br> <strong>Current state:</strong><br> <br>
                    Stack: 1, 2, 3, 4, 2, <strong>8</strong><br>
                    Location: <strong>1</strong><br>
                    Circuit: empty </td>
                  <td align="center"> <img src="articles/euler/ex008.gif" width="351" height="230"></td>
                </tr>
                <tr> 
                  <td colspan="2"><hr size="1"></td>
                </tr>
                <tr> 
                  <td>Go to vertex 6, add 1 to the stack, delete the edge between 1 and 6.<br> <br> <strong>Current state:</strong><br> <br>
                    Stack: 1, 2, 3, 4, 2, 8, <strong>1</strong><br>
                    Location: <strong>6</strong><br>
                    Circuit: empty </td>
                  <td align="center"> <img src="articles/euler/ex009.gif" width="351" height="230"></td>
                </tr>
                <tr> 
                  <td colspan="2"><hr size="1"></td>
                </tr>
                <tr> 
                  <td>Go to vertex 9, add 6 to the stack, delete the edge between 6 and 9.<br> <br> <strong>Current state:</strong><br> <br>
                    Stack: 1, 2, 3, 4, 2, 8, 1, <strong>6</strong><br>
                    Location: <strong>9</strong><br>
                    Circuit: empty </td>
                  <td align="center"> <img src="articles/euler/ex010.gif" width="351" height="230"></td>
                </tr>
                <tr> 
                  <td colspan="2"><hr size="1"></td>
                </tr>
                <tr> 
                  <td>Go to vertex 1, add 9 to the stack, delete the edge between 9 and 1.<br> <br> <strong>Current state:</strong><br> <br>
                    Stack: 1, 2, 3, 4, 2, 8, 1, 6, <strong>9</strong><br>
                    Location: <strong>1</strong><br>
                    Circuit: empty </td>
                  <td align="center"> <img src="articles/euler/ex011.gif" width="351" height="230"></td>
                </tr>
                <tr> 
                  <td colspan="2"><hr size="1"></td>
                </tr>
                <tr> 
                  <td>Because vertex 1 (current location) has no more neighbors left - we add it to the circuit, take the vertex from the top of the stack 
                    (i.e. vertex 9), and set it as the current location.<br> <br> <strong>Current state:</strong><br> <br>
                    Stack: 1, 2, 3, 4, 2, 8, 1, 6<br>
                    Location: <strong>9</strong><br>
                    Circuit: <strong>1</strong></td>
                  <td align="center"> <img src="articles/euler/ex012.gif" width="351" height="230"></td>
                </tr>
                <tr> 
                  <td colspan="2"><hr size="1"></td>
                </tr>
                <tr> 
                  <td>Vertex 9 has no neighbors left. Thus we add it to the end of the circuit, remove vertex 6 from the stack and set it as the current 
                    location.<br> <br> <strong>Current state:</strong><br> <br>
                    Stack: 1, 2, 3, 4, 2, 8, 1<br>
                    Location: <strong>6</strong><br>
                    Circuit: 1, <strong>9</strong></td>
                  <td align="center"> <img src="articles/euler/ex013.gif" width="351" height="230"></td>
                </tr>
                <tr> 
                  <td colspan="2"><hr size="1"></td>
                </tr>
                <tr> 
                  <td>Vertex 6 has no nieghbors left. Add it to the circuit, remove 1 from the stack and set it as the current location.<br> <br> <strong>Current 
                    state:</strong><br> <br>
                    Stack: 1, 2, 3, 4, 2, 8<br>
                    Location: <strong>1</strong><br>
                    Circuit: 1, 9, <strong>6</strong></td>
                  <td align="center"> <img src="articles/euler/ex014.gif" width="351" height="230"></td>
                </tr>
                <tr> 
                  <td colspan="2"><hr size="1"></td>
                </tr>
                <tr> 
                  <td>Add 1 to the circuit, go to vertex 8 and remove it from the sack.<br> <br> <strong>Current state:</strong><br> <br>
                    Stack: 1, 2, 3, 4, 2<br>
                    Location: <strong>8</strong><br>
                    Circuit: 1, 9, 6, <strong>1</strong></td>
                  <td align="center"> <img src="articles/euler/ex015.gif" width="351" height="230"></td>
                </tr>
                <tr> 
                  <td colspan="2"><hr size="1"></td>
                </tr>
                <tr> 
                  <td>Now 8 has still some more neighbors left. We take one of them - let it be 5.<br>
                    Add 8 to the stack, go to vertex 5 and delete the edge between these two vertices.<br> <br> <strong>Current state:</strong><br> <br>
                    Stack: 1, 2, 3, 4, 2, <strong>8</strong><br>
                    Location: <strong>5</strong><br>
                    Circuit: 1, 9, 6, 1</td>
                  <td align="center"> <img src="articles/euler/ex016.gif" width="351" height="230"></td>
                </tr>
                <tr> 
                  <td colspan="2"><hr size="1"></td>
                </tr>
                <tr> 
                  <td>Go to vertex 7, add 5 to the stack and delete the edge between these two vertices.<br> 
                    <br> <strong>Current state:</strong><br> <br>
                    Stack: 1, 2, 3, 4, 2, 8, <strong>5</strong><br>
                    Location: <strong>7</strong><br>
                    Circuit: 1, 9, 6, 1</td>
                  <td align="center"> <img src="articles/euler/ex017.gif" width="351" height="230"></td>
                </tr>
                <tr> 
                  <td colspan="2"><hr size="1"></td>
                </tr>
                <tr> 
                  <td>Go to vertex 8, add 7 to the stack and delete the edge between these two vertices.<br> <br> <strong>Current state:</strong><br> <br>
                    Stack: 1, 2, 3, 4, 2, 8, 5, <strong>7</strong><br>
                    Location: <strong>8</strong><br>
                    Circuit: 1, 9, 6, 1</td>
                  <td align="center"> <img src="articles/euler/ex018.gif" width="351" height="230"></td>
                </tr>
                <tr> 
                  <td colspan="2"><hr size="1"></td>
                </tr>
                <tr> 
                  <td>Note that no more edges are left, so next steps will only take last vertex from the stack and will add it to the circuit.<br>
                    <br>
                    Add 8 to the circuit, return to vertex 7 and remove it from the stack.<br> <br> <strong>Current state:</strong><br> <br>
                    Stack: 1, 2, 3, 4, 2, 8, 5<br>
                    Location: <strong>7</strong><br>
                    Circuit: 1, 9, 6, 1, <strong>8</strong></td>
                  <td align="center"> <img src="articles/euler/ex019.gif" width="351" height="230"></td>
                </tr>
                <tr> 
                  <td colspan="2"><hr size="1"></td>
                </tr>
                <tr> 
                  <td>Add 7 to the circuit, return to 5 and remove it from the stack.<br> <br> <strong>Current state:</strong><br> <br>
                    Stack: 1, 2, 3, 4, 2, 8<br>
                    Location: <strong>5</strong><br>
                    Circuit: 1, 9, 6, 1, 8, <strong>7</strong><br> </td>
                  <td align="center"> <img src="articles/euler/ex020.gif" width="351" height="230"></td>
                </tr>
                <tr> 
                  <td colspan="2"><hr size="1"></td>
                </tr>
                <tr> 
                  <td>Add 5 to the circuit, return to 8 and remove it from the stack.<br> <br> <strong>Current state:</strong><br> <br>
                    Stack: 1, 2, 3, 4, 2<br>
                    Location: <strong>8</strong><br>
                    Circuit: 1, 9, 6, 1, 8, 7, <strong>5</strong><br> </td>
                  <td align="center"> <img src="articles/euler/ex021.gif" width="351" height="230"></td>
                </tr>
                <tr> 
                  <td colspan="2"><hr size="1"></td>
                </tr>
                <tr> 
                  <td>Add 8 to the circuit, return to 2 and remove it from the stack.<br> <br> <strong>Current state:</strong><br> <br>
                    Stack: 1, 2, 3, 4<br>
                    Location: <strong>2</strong><br>
                    Circuit: 1, 9, 6, 1, 8, 7, 5, <strong>8</strong><br> <br> </td>
                  <td align="center"> <img src="articles/euler/ex022.gif" width="351" height="230"></td>
                </tr>
                <tr> 
                  <td colspan="2"><hr size="1"></td>
                </tr>
                <tr> 
                  <td>Add 2 to the circuit, return to 4 and remove it from the stack.<br> <br> <strong>Current state:</strong><br> <br>
                    Stack: 1, 2, 3<br>
                    Location: <strong>4</strong><br>
                    Circuit: 1, 9, 6, 1, 8, 7, 5, 8, <strong>2</strong><br> <br> </td>
                  <td align="center"><img src="articles/euler/ex023.gif" width="351" height="230"> </td>
                </tr>
                <tr> 
                  <td colspan="2"><hr size="1"></td>
                </tr>
                <tr> 
                  <td>Add 4 to the circuit, return to 3 and remove it from the stack.<br> <br> <strong>Current state:</strong><br> <br>
                    Stack: 1, 2<br>
                    Location: <strong>3</strong><br>
                    Circuit: 1, 9, 6, 1, 8, 7, 5, 8, 2, <strong>4</strong><br> <br> </td>
                  <td align="center"> <img src="articles/euler/ex024.gif" width="351" height="230"></td>
                </tr>
                <tr> 
                  <td colspan="2"><hr size="1"></td>
                </tr>
                <tr> 
                  <td>Add 3 to the circuit, return to 2 and remove it from the stack.<br> <br> <strong>Current state:</strong><br> <br>
                    Stack: 1<br>
                    Location: <strong>2</strong><br>
                    Circuit: 1, 9, 6, 1, 8, 7, 5, 8, 2, 4, <strong>3</strong><br> <br> </td>
                  <td align="center"> <img src="articles/euler/ex025.gif" width="351" height="230"></td>
                </tr>
                <tr> 
                  <td colspan="2"><hr size="1"></td>
                </tr>
                <tr> 
                  <td>Add 2 to the circuit, return to 1 and remove it from the stack.<br> <br> <strong>Current state:</strong><br> <br>
                    Stack:<br>
                    Location: <strong>1</strong><br>
                    Circuit: 1, 9, 6, 1, 8, 7, 5, 8, 2, 4, 3, <strong>2</strong><br> </td>
                  <td align="center"> <img src="articles/euler/ex026.gif" width="351" height="230"></td>
                </tr>
                <tr> 
                  <td colspan="2"><hr size="1"></td>
                </tr>
                <tr> 
                  <td colspan="2"><br>The stack is empty and 1 has no more neighbors. So this is the last point in this eulerian tour.<br>
                      Finally add 1 to the circuit.<br>
                      <br>
                      Circuit: 1, 9, 6, 1, 8, 7, 5, 8, 2, 4, 3, 2, 1<br>
                      <br>
                      Here the order doesn't matter, but for directed graphs - it's crucial.<br>
                      So let's consider the Eulerian Tour for this graph to be the reverse of the above circuit:<br>
                      <br>
                      <strong>1</strong>, <strong>2</strong>, <strong>3</strong>, <strong>4</strong>, <strong>2</strong>, <strong>8</strong>, <strong>5</strong>, 
                      <strong>7</strong>, <strong>8</strong>, <strong>1</strong>, <strong>6</strong>, <strong>9</strong>, <strong>1</strong><br>
                      <br>
                    </td>
                </tr>
                <tr> 
                  <td colspan="2"><hr size="1"></td>
                </tr>
              </table>
              <font class="main"><strong><br>
              <br>
              Applications:</strong> 
              <ul>
                <li>A postman has to visit a set of streets in order to deliver mails and packages. It is needed to find a path that starts and ends at 
                  the post-office, and that passes through each street (edge) exactly once. This way the postman will deliver mails and packages to all 
                  streets he has to, and in the same time will spend minimum efforts/time for the road.<br>
                  <br>
                  <strong>Note:</strong> not all graphs have an eulerian circuit. If needed - the algorithm for Chinese Postman Problem can be used. <br>
                </li>
              </ul>
              </font></td>
	  </tr>
      </table>






      </td>
    </tr>
    <tr> 
      <td valign="top">&nbsp;</td>
      <td valign="top"><font class="copyright"><hr size="1" color="#999999">Copyright © 2004-2006 Dumitru Ciubatii. All rights reserved.<br>
	  Protected by copyright laws and international treaties.</font></td>
    </tr>
  </table>
</div>

<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-87519-3";
urchinTracker();
</script>

</body>
</html>

<script language='javascript'>postamble();</script>
